{"version":3,"file":"typescript-ravepayment.umd.js","sources":["../src/typescript-ravepayment.ts"],"sourcesContent":["export interface IRaveOptions {\n    PBFPubKey: string;\n    txref: string;\n    amount: number;\n    currency?: string;\n    country?: string;\n    customer_email: string;\n    customer_firstname ?: string;\n    customer_lastname ?: string;\n    custom_title ?: string;\n    custom_description ?: string;\n    custom_logo ?: string;\n    meta ?: any;\n    callback: (response: any ) => void;\n    onclose: () => void;\n}\n\nexport default class RavePayment {\n\n    private loadAPI: Promise<any>;\n    private isProduction: boolean;\n\n    constructor(isProduction:boolean = false) {\n        this.isProduction = isProduction\n        this.loadAPI = new Promise((resolve: any) => {\n            this.loadScript(() =>{\n                resolve()\n            })\n        })\n    }\n\n    public pay(raveOption: IRaveOptions) : void{\n        this.loadAPI.then(() => {\n            (window as any).getpaidSetup(raveOption)\n        })\n    }\n\n    private loadScript(callback: () => void) {\n        let script: any = (document as any).createElement('script')\n        script.src = (!this.isProduction) ? 'http://flw-pms-dev.eu-west-1.elasticbeanstalk.com/flwv3-pug/getpaidx/api/flwpbf-inline.js'\n                     : 'https://api.ravepay.co/flwv3-pug/getpaidx/api/flwpbf-inline.js'\n\n        if (script.readyState) {  // IE\n            script.onreadystatechange = function () {\n                if (script.readyState === 'loaded' || script.readyState === 'complete') {\n                    script.onreadystatechange = null\n                    callback()\n                }\n            }\n        } else {  // Others\n            script.onload = function () {\n                callback()\n            }\n        }\n        (document as any).body.appendChild(script)\n\n    }\n}\n\nexport function Ravepay(isProduction = false)\n{\n    return new RavePayment(isProduction);\n}\n"],"names":[],"mappings":";;;;;;AAiBA;IAKI,qBAAY,YAA4B;QAA5B,6BAAA,EAAA,oBAA4B;QAAxC,iBAOC;QANG,IAAI,CAAC,YAAY,GAAG,YAAY,CAAA;QAChC,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,UAAC,OAAY;YACpC,KAAI,CAAC,UAAU,CAAC;gBACZ,OAAO,EAAE,CAAA;aACZ,CAAC,CAAA;SACL,CAAC,CAAA;KACL;IAEM,yBAAG,GAAV,UAAW,UAAwB;QAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YACb,MAAc,CAAC,YAAY,CAAC,UAAU,CAAC,CAAA;SAC3C,CAAC,CAAA;KACL;IAEO,gCAAU,GAAlB,UAAmB,QAAoB;QACnC,IAAI,MAAM,GAAS,QAAgB,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAA;QAC3D,MAAM,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,2FAA2F;cAChH,gEAAgE,CAAA;QAE/E,IAAI,MAAM,CAAC,UAAU,EAAE;YACnB,MAAM,CAAC,kBAAkB,GAAG;gBACxB,IAAI,MAAM,CAAC,UAAU,KAAK,QAAQ,IAAI,MAAM,CAAC,UAAU,KAAK,UAAU,EAAE;oBACpE,MAAM,CAAC,kBAAkB,GAAG,IAAI,CAAA;oBAChC,QAAQ,EAAE,CAAA;iBACb;aACJ,CAAA;SACJ;aAAM;YACH,MAAM,CAAC,MAAM,GAAG;gBACZ,QAAQ,EAAE,CAAA;aACb,CAAA;SACJ;QACA,QAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAA;KAE7C;IACL,kBAAC;CAAA,IAAA;iBAEuB,YAAoB;IAApB,6BAAA,EAAA,oBAAoB;IAExC,OAAO,IAAI,WAAW,CAAC,YAAY,CAAC,CAAC;CACxC;;;;;;;;;;;;;"}